import{j as e}from"./ui-BHvTlzFh.js";import{r as a}from"./vendor-ykmxpjHB.js";import{u as N,C as v,a as w,b,d as C,e as S,I as m,A as E,f as P,B as F,L as A,U as D,g as L,s as k}from"./index-CUhCjZTG.js";import{E as U,a as q}from"./eye-CYChctFU.js";function J(){const h=N(),[n,p]=a.useState(""),[i,g]=a.useState(""),[r,j]=a.useState(""),[c,f]=a.useState(!1),[t,o]=a.useState(!1),[u,l]=a.useState(null),y=async s=>{if(s.preventDefault(),o(!0),l(null),r.length<6){l("Password must be at least 6 characters"),o(!1);return}try{const{data:d,error:x}=await k.auth.signUp({email:i,password:r,options:{data:{full_name:n}}});x?l(x.message):d.user&&h("/app/onboarding")}catch(d){l("An unexpected error occurred"),console.error("Signup error:",d)}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(v,{className:"w-full max-w-md",children:[e.jsxs(w,{className:"space-y-1",children:[e.jsx(b,{className:"text-2xl text-center",children:"Create an account"}),e.jsx(C,{className:"text-center",children:"Get started with DeskPlanner for your coworking space"})]}),e.jsxs(S,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Full Name"}),e.jsx(m,{id:"name",type:"text",placeholder:"John Doe",value:n,onChange:s=>p(s.target.value),required:!0,disabled:t,autoFocus:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsx(m,{id:"email",type:"email",placeholder:"your@email.com",value:i,onChange:s=>g(s.target.value),required:!0,disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{id:"password",type:c?"text":"password",placeholder:"••••••••",value:r,onChange:s=>j(s.target.value),required:!0,disabled:t,minLength:6}),e.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:c?e.jsx(U,{className:"h-4 w-4"}):e.jsx(q,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Must be at least 6 characters"})]}),u&&e.jsx(E,{variant:"destructive",children:e.jsx(P,{children:u})}),e.jsx(F,{type:"submit",className:"w-full",disabled:t||!n||!i||!r,children:t?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Sign Up"]})})]}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(L,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]})]})]})})}export{J as default};
